# ìŠ¤ìœ™ë§¤ë§¤ ê¸°ë²• í…ŒìŠ¤í„° (Swing Trading Tester)

ìŠ¤ìœ™ë§¤ë§¤ ì „ëµì„ ë°±í…ŒìŠ¤íŠ¸í•˜ê³  ì„±ê³¼ë¥¼ ë¶„ì„í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ë‹¤ì–‘í•œ ìŠ¤ìœ™ë§¤ë§¤ ê¸°ë²•ì„ í…ŒìŠ¤íŠ¸í•˜ê³  ë¹„êµë¶„ì„í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤:

- **ë°±í…ŒìŠ¤íŒ…**: ê³¼ê±° ë°ì´í„°ë¡œ ì „ëµ ê²€ì¦
- **ì„±ê³¼ ë¶„ì„**: ìˆ˜ìµë¥ , ìŠ¹ë¥ , MDD, ìƒ¤í”„ì§€ìˆ˜ ë“±
- **ë‹¤ì¤‘ ì „ëµ ë¹„êµ**: ì—¬ëŸ¬ ì „ëµì„ ë™ì‹œì— í…ŒìŠ¤íŠ¸
- **ì‹œê°í™”**: ì°¨íŠ¸ì™€ ê·¸ë˜í”„ë¡œ ê²°ê³¼ í™•ì¸

## ğŸ¯ ì§€ì› ì „ëµ

### 1. ë³¼ë¦°ì €ë°´ë“œ + RSI

- BB í•˜ë‹¨ ë°˜ë“± + RSI ê³¼ë§¤ë„

### 2. SEPA (ë§ˆí¬ ë¯¸ë„ˆë¹„ë‹ˆ) â­ NEW

- **íŠ¸ë Œë“œ í…œí”Œë¦¿**: 50ì¼ > 150ì¼ > 200ì¼ ì´í‰ì„  ì •ë°°ì—´
- **VCP íŒ¨í„´**: ë³€ë™ì„± ìˆ˜ì¶• (ê±°ë˜ëŸ‰ ì¦ë°œ)
- **í”¼ë²— ëŒíŒŒ**: ê±°ë˜ëŸ‰ í­ì¦ê³¼ í•¨ê»˜ ê³ ì  ëŒíŒŒ
- **ì†ìµë¹„**: 3:1 (ì†ì ˆ 7%, ìµì ˆ 21%)

### 3. ì´ë™í‰ê· ì„  í¬ë¡œìŠ¤ì˜¤ë²„

- ê³¨ë“ í¬ë¡œìŠ¤/ë°ë“œí¬ë¡œìŠ¤

### 4. í”¼ë³´ë‚˜ì¹˜ ë˜ëŒë¦¼

- ì£¼ìš” ë˜ëŒë¦¼ ë ˆë²¨ì—ì„œ ì§„ì…

### 5. ì»¤ìŠ¤í…€ ì „ëµ

- ì‚¬ìš©ì ì •ì˜ ì „ëµ ì¶”ê°€ ê°€ëŠ¥

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 2. ì„¤ì •

`config/config.yaml` íŒŒì¼ì—ì„œ í…ŒìŠ¤íŠ¸ ì¡°ê±´ ì„¤ì •:

```yaml
# ë°±í…ŒìŠ¤íŠ¸ ê¸°ê°„
backtest:
  start_date: "2020-01-01"
  end_date: "2024-12-31"
  initial_capital: 10000000  # ì´ˆê¸° ìë³¸ (1ì²œë§Œì›)

# í…ŒìŠ¤íŠ¸í•  ì¢…ëª©
symbols:
  - "005930.KS"  # ì‚¼ì„±ì „ì
  - "000660.KS"  # SKí•˜ì´ë‹‰ìŠ¤
  - "AAPL"       # Apple
  - "MSFT"       # Microsoft
```

### 3. ì‹¤í–‰

```bash
# ëª¨ë“  ì „ëµ í…ŒìŠ¤íŠ¸
python run_backtest.py --all

# íŠ¹ì • ì „ëµë§Œ í…ŒìŠ¤íŠ¸
python run_backtest.py --strategy bollinger_rsi
python run_backtest.py --strategy sepa_minervini  # SEPA ì „ëµ

# íŠ¹ì • ì¢…ëª©ë§Œ í…ŒìŠ¤íŠ¸
python run_backtest.py --symbol 005930.KS

# SEPA ì „ëµ ë‹¨ë… í…ŒìŠ¤íŠ¸
python test_sepa.py
```

## ğŸ“Š ê²°ê³¼ í™•ì¸

ê²°ê³¼ëŠ” `output/` í´ë”ì— ì €ì¥ë©ë‹ˆë‹¤:

- `backtest_results.xlsx` - ìƒì„¸ ê±°ë˜ ë‚´ì—­
- `performance_summary.csv` - ì „ëµë³„ ì„±ê³¼ ìš”ì•½
- `charts/` - ì°¨íŠ¸ ì´ë¯¸ì§€
- `reports/` - HTML ë¦¬í¬íŠ¸

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```plaintext
swing-trading-tester/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml          # ì„¤ì • íŒŒì¼
â”œâ”€â”€ strategies/
â”‚   â”œâ”€â”€ bollinger_rsi.py     # ë³¼ë¦°ì €ë°´ë“œ + RSI ì „ëµ
â”‚   â”œâ”€â”€ ma_crossover.py      # ì´í‰ì„  í¬ë¡œìŠ¤ì˜¤ë²„ ì „ëµ
â”‚   â”œâ”€â”€ fibonacci.py         # í”¼ë³´ë‚˜ì¹˜ ì „ëµ
â”‚   â””â”€â”€ base_strategy.py     # ì „ëµ ë² ì´ìŠ¤ í´ë˜ìŠ¤
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data_loader.py       # ë°ì´í„° ë¡œë“œ
â”‚   â”œâ”€â”€ backtester.py        # ë°±í…ŒìŠ¤íŠ¸ ì—”ì§„
â”‚   â”œâ”€â”€ performance.py       # ì„±ê³¼ ë¶„ì„
â”‚   â””â”€â”€ visualizer.py        # ì°¨íŠ¸ ìƒì„±
â”œâ”€â”€ output/                  # ê²°ê³¼ íŒŒì¼ (ìë™ ìƒì„±)
â”œâ”€â”€ tests/                   # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ run_backtest.py          # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â””â”€â”€ requirements.txt         # í•„ìˆ˜ íŒ¨í‚¤ì§€

```

## ğŸ”§ ì»¤ìŠ¤í…€ ì „ëµ ì¶”ê°€

ìƒˆë¡œìš´ ì „ëµì„ ì¶”ê°€í•˜ë ¤ë©´ `strategies/` í´ë”ì— íŒŒì¼ ìƒì„±:

```python
# strategies/my_strategy.py
from strategies.base_strategy import BaseStrategy

class MyStrategy(BaseStrategy):
    def __init__(self, params=None):
        super().__init__("My Strategy", params)
    
    def generate_signals(self, data):
        # ë§¤ìˆ˜/ë§¤ë„ ì‹ í˜¸ ìƒì„± ë¡œì§
        signals = []
        # ... ë¡œì§ êµ¬í˜„
        return signals
```

## ğŸ“ˆ ì„±ê³¼ ì§€í‘œ

ê° ì „ëµì€ ë‹¤ìŒ ì§€í‘œë¡œ í‰ê°€ë©ë‹ˆë‹¤:

- **ì´ ìˆ˜ìµë¥ ** (Total Return)
- **ì—°í‰ê·  ìˆ˜ìµë¥ ** (CAGR)
- **ìŠ¹ë¥ ** (Win Rate)
- **í‰ê·  ì†ìµë¹„** (Profit Factor)
- **ìµœëŒ€ ë‚™í­** (MDD - Maximum Drawdown)
- **ìƒ¤í”„ ì§€ìˆ˜** (Sharpe Ratio)
- **ê±°ë˜ íšŸìˆ˜** (Number of Trades)

## ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ë‹¨ìˆœ ë°±í…ŒìŠ¤íŠ¸

```bash
python run_backtest.py --strategy bollinger_rsi --symbol AAPL
```

### ì˜ˆì‹œ 2: ì „ëµ ë¹„êµ

```bash
python run_backtest.py --compare --strategies bollinger_rsi,ma_crossover,fibonacci
```

### ì˜ˆì‹œ 3: íŒŒë¼ë¯¸í„° ìµœì í™”

```bash
python optimize_strategy.py --strategy bollinger_rsi
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ê³¼ê±° ì„±ê³¼ê°€ ë¯¸ë˜ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**
2. ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” ì´ìƒì ì¸ ì¡°ê±´ì„ ê°€ì •í•©ë‹ˆë‹¤ (ìŠ¬ë¦¬í”¼ì§€, ìˆ˜ìˆ˜ë£Œ ìµœì†Œí™”)
3. ì‹¤ì „ íˆ¬ì ì „ ì¶©ë¶„í•œ ê²€ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤
4. ë¦¬ìŠ¤í¬ ê´€ë¦¬ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤ (ì†ì ˆ, ë¶„í• ë§¤ìˆ˜ ë“±)

## ğŸ“ TODO

- [ ] ì¶”ê°€ ì „ëµ êµ¬í˜„ (ìº”ë“¤íŒ¨í„´, ëª¨ë©˜í…€ ë“±)
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ì—°ë™
- [ ] ì›¹ ëŒ€ì‹œë³´ë“œ ê°œë°œ
- [ ] ì•Œë¦¼ ê¸°ëŠ¥ (í…”ë ˆê·¸ë¨, ì´ë©”ì¼)
- [ ] í¬íŠ¸í´ë¦¬ì˜¤ ìµœì í™”

## ğŸ¤ ë¼ì´ì„ ìŠ¤

êµìœ¡ ë° ê°œì¸ íˆ¬ì ëª©ì ìœ¼ë¡œ ììœ ë¡­ê²Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
